<head>
  <meta charset="utf-8">
  <title>360&deg; Image Gallery</title>
  <meta name="description" content="360&deg; Image Gallery - A-Frame">

  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <!--
イベントの設定方法:https://stackoverflow.com/questions/49018866/need-help-creating-links-to-other-web-pages-in-aframe    -->
  <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
  <script>
    AFRAME.registerComponent('navigate-on-click', {
      schema: {
        url: { default: '' }
      },

      init: function () {
        var data = this.data;
        var el = this.el;

        el.addEventListener('click', function () {
          window.location.href = data.url;
        });
      }
    });        
  </script>
</head>

<a-scene>
  <a-assets>
    <audio id="click-sound" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
    <!-- Images. -->
    <img id="houyouryoku" src="../../../src/assets/yurusu_houyouryoku.png">
    <img id="mappin" src="../../../src/assets/map_pin.png">
  </a-assets>

  <!-- rayを制御してる？ -->
  <a-entity id="camera" camera="userHeight: 1.6" look-controls cursor="rayOrigin: mouse"></a-entity>

  <!-- 背景 -->
  <a-sky src="../../../src/assets/innovation-right-lower.jpg" rotation="0 -120 0"></a-sky>

  <!-- テキストの配置 -->
  <a-text font="kelsonsans" value="innovation-right-lower" width="6" position="0 0 -4" rotation="0 -30 0"></a-text>

  <!-- リンクを画像として配置 -->
  <a-entity class="link" navigate-on-click="url: ../innovation-left-lower"
    geometry="primitive: plane; height:1; width:1" material="shader: standard; src: #mappin; transparent: true"
    position="-14 0.5 -10" rotation="0 45 0"></a-entity>
  <a-entity class="link" navigate-on-click="url: ../innovation-left-upper"
    geometry="primitive: plane; height:1; width:1" material="shader: standard; src: #mappin; transparent: true"
    position="-5 0.5 -10" rotation="0 45 0"></a-entity>
  <a-entity class="link" navigate-on-click="url: ../innovation-right-upper"
    geometry="primitive: plane; height:1; width:1" material="shader: standard; src: #mappin; transparent: true"
    position="7 0.5 -5" rotation="0 -10 0"></a-entity>

</a-scene>
</body>

</html>